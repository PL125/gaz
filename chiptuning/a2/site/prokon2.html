<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>&#171;А2&#187;. Двойные прошивки и обход защиты. Чип-тюнинг МИКАС-7 и ЯНВАРЬ-5</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1251"><meta name="description" content="Как обойти защиту и записать двойную прошивку в автомобильный контроллер ЯНВАРЬ-5.">
<meta name="keywords" content="двойные прошивки, сдвоенные прошивки, ПРОКОН">
<meta name="abstract" content="Обход защиты и запись двойной прошивкй в автомобильный контроллер ЯНВАРЬ-5.">
<meta name="robots" content="all">
<meta name="title" content="автомобильная электроника">
<meta name="revisit" content="30">
<link rel="shortcut icon" href="favicon.ico">
<link rel="StyleSheet" type="text/css" href="style.css">
</head>

<body bgcolor="#ffffff">

<!--начало титула-->
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td align="left"><a href="http://2a2.ru/" title="&#171;А2&#187;. Оборудование для автосервиса"><img src="images/logo1.gif" border="0" width="75" height="52" alt="&#171;А2&#187;. Оборудование для автосервиса"></a></td>
<th align="right" valign="middle" class="toptit" nowrap>тел. +7&#160;927&#160;800&#160;76&#160;16<br>

<a href="http://2a2.ru/" title="Адрес сайта" class="toptit">http://2a2.ru/</a></th>
</tr>
</table>
<div class="lineH">&#160;</div>
<!--конец титула-->

<!--начало страницы -->
<table width="100%" border="0" cellpadding="0" cellspacing="2">
<tr>
<td width="85%" valign="top">
<div class="lineR">

<br>
<h1>ДВОЙНЫЕ ПРОШИВКИ И ОБХОД &#171;защиты&#187;</h1>
<p>Эта статья появилась в связи с участившимися обращениями в адрес нашей фирмы по данным вопросам.</p>
<p>Хочу отметить, что мы несем ответственность только за <font color="#ff0000"><em>качество записи (чтения) в блоки ЯНВАРЬ-5 и МИКАС-7 комплексом ПРОКОН-1</em></font>. Ответственность за сами прошивки (кстати, мы их и не распространяем) и за работу автомобиля с измененными прошивками мы не несем. Также мы не можем брать на себя ответственность за доработку блоков под двойные прошивки.</p>
<ol>
<li>Двойные прошивки.
<ul>
<li>Есть два пути заставить блок ЯНВАРЬ-5 работать с двумя прошивками:
<ul>
<li>доработать блок ЯНВАРЬ-5. Примеры подобных доработок см. <a href=http://chiptuner.ru/double.htm>здесь</a>. Запись двух прошивок в доработанный блок ЯНВАРЬ-5 осуществляется следующим образом: записывается сначала одна прошивка, затем аппаратно переключается банк памяти и записывается вторая прошивка.</li>
<li>воспользоваться &#171;двухрежимной&#187; прошивкой, которые позволяют переключать банки памяти ЯНВАРЬ-5 программным путем (без доработок блока). Перечень программ позволяющих получать такие прошивки см. <a href=http://chiptuner.ru/twin.htm>здесь</a>. Что-либо сказать по поводу этих программ мы не можем, так как наша фирма не занимается чип-тюнингом.</li>
</ul>
<li>Схемотехника блока МИКАС-7 такова, что в него <font color="#ff0000"><em>нельзя</em></font> записать две прошивки без его <font color="#ff0000"><em>аппаратной доработки</em></font>. Сделать это можно только следующим варварским способом:
<ul>
<li>вскрываете блок, подрезаете проводник (подложку) адресного контакта 2 микросхемы Flash (на плате контроллера это квадратная 32-контактная микросхема, нумерация контактов от точки на микросхеме против часовой стрелки);</li>
<li>затем 2-ую ножку микросхемы Flash и логическую единицу (+5 вольт, которые можно взять с 32 ноги микросхемы Flash, через резистор 10 ком) надо вывести на разъем блока. А так как все контакты блока заняты (см. <a href="esud/bu_m7.html#6">здесь</a>), то Вам решать какие из контактов &#171;лишние&#187;;</li>
<li>проводники идущие в блок от выбранных Вами &#171;лишних&#187; контактов необходимо отрезать. Затем вывести на них логическую единицу (+5 вольт через резистор не менее 1,5 ком) и 2-ую ножку Flash, &#171;землю&#187; можно взять с 19 контакта разъема блока;</li>
<li>на соответствующие жгутовые контакты автомобиля и программатора подсоединяете тумблер, среднюю точку тумблера присоединяете к 2-ой ножке Flash;</li>
<li>запись двух прошивок в доработанный блок МИКАС-7 осуществляется следующим образом: записывается сначала одна прошивка, затем аппаратно переключается банк памяти и записывается вторая прошивка.</li>
</ul>
</ul>
<p>Для записи таких прошивок наша фирма ввела в ПРОКОН-1 процедуру <font color="#ff0000"><em>программного переключения банка памяти.</em></font></p>
<p>Теперь пользователь комплекса ПРОКОН-1 может записать две прошивки объемом 64 kbyte каждая или &#171;двухрежимную&#187; прошивку объемом 128 kbyte в блок ЯНВАРЬ-5 не дорабатывая его.</p>
<p>При записи двух прошивок по 64 kbyte или &#171;двухрежимной&#187; прошивки 128 kbyte надо учитывать, что в недоработанном блоке ЯНВАРЬ-5 рабочая программа располагается в зоне адресов $10000&#8212;$1FFFF Flash.</p>
<p>Таким образом, исходная область памяти блока ЯНВАРЬ-5: $10000&#8212;$1FFFF, дополнительная: $00000&#8212;$0FFFF.</p></li>
<li>Как обойти &#171;защиту&#187;.
<p>Рекомендации данного раздела относятся к случаю установленной защиты Flash контроллера через блокирование внутрисхемной процедуры микроконтроллера Bootstrap Loader&#8212;в данном случае программатор ПРОКОН-1 не может связаться с контроллером для выполнения чтения и записи программ.</p>
<p>Рекомендации данного раздела не распространяются на случаи защиты самих прошивок Flash, которые, как правило, выполняются путем их привязки к паспортным данным конкретного контроллера. В этом случае прошивка может быть считана с одного контроллера и перезаписана в другой с помощью программатора ПРОКОН-1, но двигатель может не запуститься.</p>
<p>Для того чтобы прочитать программу из защищенного от Bootstrap Loader контроллера ЯНВАРЬ-5 (МИКАС-7) или обновить ее, необходимо:</p>
<ul>
<li>вскрыть контроллер;</li>
<li>подсоединить его к программатору, установить тумблер адаптера АПМ-1 в положение программирования (Я5 или М7) и войти в процедуру &#171;Программирование контроллера (*.hex/bin)&#187;;</li>
<li>после выбора порта связи, когда появится сообщение: &#171;Подайте питание ...&#187;, замкнуть на общий вывод (массу), например, пинцетом, один из адресных контактов (2...12, 23, 25...29) микросхемы Flash (на плате контроллера это квадратная 32-контактная микросхема, нумерация контактов от точки на микросхеме против часовой стрелки), затем подать питание на адаптер АПМ-1 и нажать &#171;Entr&#187;;</li>
<li>после входа контроллера в режим программирования (отображается меню операций) убрать адресную перемычку на микросхеме Flash;</li>
<li>далее для выполнения операций чтения и программирования необходимо пользоваться рекомендациями разделов 3 и 4 <a href=files/procon.doc>procon.doc.</a></li>
</ul>
<p><font color="#ff0000"><em>Внимание.</em></font> Для исключения повреждения аппаратной части контроллера замыкание и размыкание контактов микросхемы Flash необходимо выполнять с особой осторожностью.</p>
<p>Для того чтобы убрать защиту с программы защищенного от Bootstrap Loader контроллера необходимо &#171;Обнулить&#187; в файле или во Flash контроллера ячейки $6000 и $C000, но при этом программа контроллера в процессе работы, возможно, будет формировать соответствующий код &#171;Ошибка ПЗУ контроллера&#187;.</p>
<p>Но, на мой взгляд, столкнувшись с подобной ситуацией лучше всего объяснить клиенту, что предыдущий &#171;тюнингист&#187; сыграл с ним злую шутку и привязал его блок к своему &#171;ненавязчивому сервису&#187;.</p></li>
</ol>
<br>
</div>
</td>

<td valign="top" class="menu" nowrap>
<br>
&#8226;<a href="index.html">главная</a><br><br>
&#8226;<a href="kontakt.html">где&#160;купить</a><br>
&#8226;<a href="price.html">цены</a><br><br>
&#8226;<a href="product.html">продукция</a><br>
&#8226;<a href="files.html">документация</a><br>
&#8226;<a href="autodiler/index.html">программы</a><br><br>
&#8226;<a href="error/index.html">коды&#160;ГАЗ</a><br>
&#8226;<a href="esud/index.html">ЭСУД&#160;ГАЗ</a><br>
&#8226;<a href="patriot/index.html">ЭСУД&#160;PATRIOT</a><br>
&#8226;<a href="vaz/index.html">ЭСУД&#160;ВАЗ</a><br>
&#8226;<a href="steyr/index.html">ЭСУД&#160;STEYR</a><br><br>
&#8226;<a href="sto/index.html">автосервисы</a><br>
&#8226;<a href="links/index.html">сайты</a><br><br>
<div class="lineH">&#160;</div>
<br>
&#160;e-mail:<br>
&#8226;<a href="mailto:a2@2a2.ru,diacar@mail.ru?subject=From WWW" title="Написать письмо">a2@2a2.ru</a>
</td>
</tr>
</table>

<div class="lineH">&#160;</div>
<div align="right" class="toptit">&#169;&#160;2000&#8212;2013&#160;ООО&#160;&#171;А2&#187;;&#160;&#160;e-mail:&#160;<a href="mailto:a2@2a2.ru,diacar@mail.ru?subject=From WWW" title="Написать письмо" class="toptit">a2@2a2.ru</a></div>

</body>
</html>